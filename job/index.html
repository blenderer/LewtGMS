<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Lewt Job Generator</title>
	<link rel="stylesheet" href="../base.css">
	<link rel="stylesheet" href="job.css">
</head>
<body>

<div id="fileupload">
	<input type="file">
</div>

<div id="form">
<a data-bind="visible: saveLink, attr: {href: saveLink, download: 'db.sql'}">Export DB</a>
<input data-bind="event: {click: newJob}" type="button" value="New Job"><br>
<select name="job" data-bind="
					value: selectedJob,
					options: jobs,
					optionsText: 'name',
					optionsValue: 'id',
					event: { change: changeJob}"></select>
<button data-bind="event: {click: removeJob}">X</button>

<input data-bind="value: properties.name">

<ul data-bind="sortable: properties.statpriority">
	<li>
		<span data-bind="text: $data"></span>
		<span data-bind="click:  $parent.removeStat" class="deletestat">X</span>
	</li>
</ul>

<select data-bind="	options: baseStats,
					value: selectedStat,
					optionsText: 'longname',
					optionsValue: 'longname'
"></select> <button data-bind="click: addPriority">Add</button>

<br><br><br><br>

<ul data-bind="foreach: properties.secondary">
	<li>
		<span data-bind="text: $data.longname"></span>
		<input placeholder="Min" class="small" data-bind="value: $data.min">
		<input placeholder="Max" class="small" data-bind="value: $data.max">
		<span data-bind="click:  $parent.removeSecondary" class="deletestat">X</span>
	</li>
</ul>

<select data-bind="	options: secondaryStats,
					value: selectedSecondary,
					optionsText: 'longname',
					optionsValue: 'longname'
"></select> <button data-bind="click: addSecondary">Add</button>

<br><br><br><br>

<div data-bind="visible: isDirty()">
	<button data-bind="click: saveJob">Save Job</button>
	<button data-bind="click: resetJob">Reset Job</button>
</div>

</div>

<script data-main="app/app" src="../lib/require.js"></script>

</body>
</html>