<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Lewt Job Generator</title>
	<link rel="stylesheet" href="../base.css">
	<link rel="stylesheet" href="job.css">
</head>
<body>

<div id="fileupload">
	<input type="file">
</div>

<div id="form">

	<select name="job" data-bind="
					value: selectedJob,
					options: jobs,
					optionsText: 'name',
					optionsValue: 'id',
					event: {change: changeSelectedJob}"></select><button data-bind="event: {click: removeSelectedJob}">X</button>

	<div data-bind="foreach: jobs">
		<div data-bind="visible: selected">
			<label for="name">Name: </label><input data-bind="value: name" type="text">
			<br><h3>Stat Priority: </h3>
			<ol data-bind="foreach: statpriority">
				<li>
					<span data-bind="text: $root.mapStatName($data)"></span>
					<button data-bind="event: {click: $root.movePriorityUp}">&uarr;</button>
					<button data-bind="event: {click: $root.movePriorityDown}">&darr;</button>
					<button data-bind="event: {click: $root.removePriority}">X</button>
				</li>
			</ol>
			<div data-bind="foreach: $parent.notPriorityList()">
				<button data-bind="text: $root.mapStatName($data), event: {click: $root.addPriority}"></button>
			</div>	
			<br><h3>Secondary Stats: </h3>
			<ul data-bind="foreach: secondaries">
				<li>
					<span data-bind="text: $root.mapStatName(stat)"></span>
					<input class="small" data-bind="value: min" type="text">
					<input class="small" data-bind="value: max" type="text">
					<button data-bind="event: {click: $root.removeSecondary}">X</button>
				</li>
			</ul>
			<div data-bind="foreach: $parent.notSecondaryList()">
				<button data-bind="text: $root.mapStatName($data), event: {click: $root.addSecondary}"></button>
			</div>	
		</div>
	</div>

	<button data-bind="event {click: save}">Save</button><br>
	<a data-bind="visible: saveLink, attr: {href: saveLink, download: 'jobs.json'}">Right Click to download</a>
</div>

<script data-main="app/app" src="../lib/require.js"></script>

</body>
</html>